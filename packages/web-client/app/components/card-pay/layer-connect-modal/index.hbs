<Boxel::Modal
  class={{cn "layer-connect-modal" layer-connect-modal--connected=@isLayerConnected}}
  @isOpen={{@isOpen}}
  @onClose={{@onClose}}
  data-test-layer-connect-modal={{@name}}
>
  <div class="layer-connect-modal__scroll-wrapper">
    <Boxel::CardContainer class="layer-connect-modal__card">
      <div class="layer-connect-modal__close-button-container">
        <button
          class="layer-connect-modal__close-button"
          type="button"
          aria-label="Close"
          {{on "click" @onClose}}
        >
          {{svg-jar "close" width="100%" height="100%" aria-hidden=true}}
        </button>
      </div>
      {{#if (eq @name "layer1")}}
        <CardPay::LayerOneConnectCard
          class="layer-connect-modal__wrapped-card"
          @onConnect={{@onClose}}
          @onDisconnect={{@onClose}}
          @suppressHeader={{true}}
          {{did-insert this.focus}}
          data-test-layer-one-connect-modal-card
        />
      {{else}}
        <CardPay::LayerTwoConnectCard
          class="layer-connect-modal__wrapped-card"
          @suppressHeader={{true}}
          @includeExplanations={{true}}
          @onConnect={{@onClose}}
          @onDisconnect={{@onClose}}
          {{did-insert this.focus}}
          data-test-layer-two-connect-modal-card
        />
      {{/if}}
    </Boxel::CardContainer>
  </div>
</Boxel::Modal>